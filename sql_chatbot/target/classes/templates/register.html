<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Register</title>
  <th:block th:insert="~{include.html}" />
</head>
<body>
<th:block th:insert="~{header.html}" />

<div class="container" xmlns:th="http://www.thymeleaf.org">
  <h1 th:if="${hasError}" th:text="${error}"></h1>
</div>
<div class="container">
  <form class="form-signin mt-xl-5" method="post" action="/register">
    <h2 class="form-signin-heading">Register</h2>
    <p>
      <label for="username" class="sr-only">Username</label>
      <input type="text" id="username" name="username" class="form-control" placeholder="Username" required=""
             autofocus="" th:value="${userErrorUsername} ?:''">
    </p>
    <p>
      <div id="passwordStrength" onchange="displayStrength()"></div>
      <label for="password" class="sr-only">Password</label>
      <input type="password" id="password" name="password" class="form-control" placeholder="Password" onkeyup="checkPasswordStrength()"
             required="" th:value="${userErrorPassword} ?:''" th:style="${passwordError} ? 'background: #ffd1d173;':''">
    </p>
    <p>
      <label for="repeatedPassword" class="sr-only">Repeat Password</label>
      <input type="password" id="repeatedPassword" name="repeatedPassword" class="form-control"
             placeholder="Repeat Password" required="" th:value="${userErrorPassword} ?:''">
    </p>
      <label for="huggingFaceAPIToken" class="sr-only">huggingFaceAPIToken</label>
      <input type="text" id="huggingFaceAPIToken" name="huggingFaceAPIToken" class="form-control" placeholder="huggingFaceAPIToken" required=""
             autofocus="" th:value="${userErrorHuggingFace} ?:''" th:style="${huggingFaceTokenError} ? 'background: #ffd1d173;':''">
    </p>
    <div class="mb-3" th:if="${passwordError}">
      <div class="alert alert-danger" role="alert" th:text="${passwordError}">
      </div>
    </div>
    <div class="mb-3" th:if="${huggingFaceTokenError}">
      <div class="alert alert-danger" role="alert" th:text="${huggingFaceTokenError}">
      </div>
    </div>
    <button id="submitButton" class="btn btn-lg btn-primary btn-block" type="submit">Sign up</button>
  </form>
  <a href="/login" class="btn btn-block btn-light">Already have an account? Login here!</a>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.usebootstrap.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="/js/scripts.js"></script>
</body>
</html>
